import{u as f,b as v,r as I,e as r,j as e,y as b,c as g}from"./app-77bbec4f.js";import{A as y,a as n}from"./AuthenticatedLayout-d0255b08.js";import{u as j,C,i as A,A as _}from"./AddModal-a050553e.js";import"./transition-0625b3d3.js";import"./chunk-NXTXE2B3-539b5766.js";import"./methods-eae04d3a.js";import"./import-b067866a.js";import"./chunk-TC4QW7OA-5ae1fe65.js";function k({auth:c}){const l=["number","status","track_details","date","due_date","customer_name","subtotal","total","issued_by_name","actions"],{isOpen:u,onOpen:O,onOpenChange:d}=j(),t=f(),{invoices:m,status:E}=v(o=>o.invoices);I.useEffect(()=>{t(r())},[t]);const p=()=>{b.visit("/invoices/create")},h="/invoices/",x=async o=>{var i,a;try{if(confirm("are you sure you want to delete this Record")){const s=await g.delete(`/invoices/${o}`);console.log(s),n.success("Record Deleted"),t(r())}else n.error("Request Cancelled")}catch(s){n("Somthing Went Wrong"),console.error("Error deleting:",((a=(i=s.response)==null?void 0:i.data)==null?void 0:a.error)||s.message)}};return e.jsxs(y,{user:c.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Invoice"}),children:[e.jsx(C,{onOpen:p,baseurl:h,title:"Invoices",handleDelete:x,tableObject:m,tableColumns:A,initialColumns:l}),e.jsx(_,{onOpenChange:d,isOpen:u,title:"Add Invoice",isSubmitting:!1,children:e.jsx("form",{})})]})}export{k as default};
