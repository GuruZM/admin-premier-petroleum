import{u as g,b as r,r as C,g as i,e as _,j as e,c as S,y as I}from"./app-cdd6f146.js";import{A as D,d as A,Q as u}from"./AuthenticatedLayout-deca1a6b.js";import{u as O,C as P,d as L,A as q}from"./AddModal-7b59cbb8.js";import{u as E}from"./index.esm-2ee15361.js";import{i as n}from"./chunk-TC4QW7OA-9e1213ad.js";import{s as F,l as M}from"./chunk-ZFWMN6TD-0cf124cb.js";import{b as d}from"./chunk-NXTXE2B3-0d77eb7b.js";import"./transition-6aab0144.js";import"./import-56d06606.js";function W({auth:c}){const m=["client","invoice_number","date","issue_date","actions"],b="/delivery-notes/",{register:s,reset:x,handleSubmit:f,getValues:T,formState:p}=E(),{isOpen:y,onOpen:V,onOpenChange:o}=O(),l=g(),{deliveryNotes:h,status:B,error:Q}=r(t=>t.deliveryNotes),{invoices:N}=r(t=>t.invoices);C.useEffect(()=>{l(i()),l(_())},[]);const j=async t=>{S.post("/delivery-notes",t).then(a=>{console.log("res :",a),u.success("Delivery Note Added Successfully"),o(),l(i()),x()}).catch(a=>{console.log("err :",a),u.error("Failed to add Delivery Note")})},v=()=>{I.visit("/delivery-notes/create")};return e.jsxs(D,{user:c.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Delivery Note"}),children:[e.jsx(P,{onOpen:v,baseurl:b,title:"Delivery Note",tableObject:h,tableColumns:L,initialColumns:m}),e.jsx(q,{onOpenChange:o,isOpen:y,title:"Add Delivery Note",isSubmitting:!1,children:e.jsx("form",{onSubmit:f(j),children:e.jsxs("div",{className:"space-y-8",children:[e.jsx(n,{style:{border:"none",outline:"none",":focus":{outline:"none"}},labelPlacement:"outside",label:"Address",placeholder:"",className:"border-none outline-none  ",...s("address",{required:!0}),startContent:e.jsx("span",{className:"text-default-400 text-small"})}),e.jsx(n,{style:{border:"none",outline:"none",":focus":{outline:"none"}},labelPlacement:"outside",label:"Title",placeholder:"",className:"border-none outline-none  ",...s("title",{required:!0}),startContent:e.jsx("span",{className:"text-default-400 text-small"})}),e.jsx(n,{style:{border:"none",outline:"none",":focus":{outline:"none"}},labelPlacement:"outside",label:"Number",placeholder:"",className:"border-none outline-none  ",...s("number",{required:!0}),startContent:e.jsx("span",{className:"text-default-400 text-small"})}),e.jsx(n,{style:{border:"none",outline:"none",":focus":{outline:"none"}},labelPlacement:"outside",type:"date",label:"Issue Date",placeholder:"",className:"border-none outline-none  ",...s("issue_date",{required:!0}),startContent:e.jsx("span",{className:"text-default-400 text-small"})}),e.jsx(F,{labelPlacement:"outside",label:"Invoice Number",className:" ",startContent:"",...s("invoice_number"),children:N.map(t=>e.jsx(M,{value:t.number,children:t.number},t.id))}),e.jsx(A,{className:"my-5"}),e.jsxs("div",{className:"buttonSection flex  justify-end gap-1",children:[e.jsx(d,{color:"danger",variant:"flat",onPress:()=>{o()},children:"Close"}),e.jsx(d,{isLoading:p.isSubmitting,type:"submit",color:"primary",children:"Submit"})]})]})})})]})}export{W as default};
