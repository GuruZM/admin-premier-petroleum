import{u as f,b as v,r as I,e as r,j as e,y as b,c as g}from"./app-04fd7797.js";import{A as y,a as n}from"./AuthenticatedLayout-57ded827.js";import{u as j,C,i as A,A as _}from"./AddModal-ad26a77e.js";import"./transition-d3bd1be7.js";import"./chunk-NXTXE2B3-a84ac7e2.js";import"./methods-82dbbe7c.js";function M({auth:c}){const l=["number","status","track_details","date","due_date","customer_name","subtotal","total","issued_by_name","actions"],{isOpen:u,onOpen:O,onOpenChange:d}=j(),t=f(),{invoices:m,status:E}=v(o=>o.invoices);I.useEffect(()=>{t(r())},[t]);const p=()=>{b.visit("/invoices/create")},h="/invoices/",x=async o=>{var a,i;try{if(confirm("are you sure you want to delete this Record")){const s=await g.delete(`/invoices/${o}`);console.log(s),n.success("Record Deleted"),t(r())}else n.error("Request Cancelled")}catch(s){n("Somthing Went Wrong"),console.error("Error deleting:",((i=(a=s.response)==null?void 0:a.data)==null?void 0:i.error)||s.message)}};return e.jsxs(y,{user:c.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Invoice"}),children:[e.jsx(C,{onOpen:p,baseurl:h,title:"Invoices",handleDelete:x,tableObject:m,tableColumns:A,initialColumns:l}),e.jsx(_,{onOpenChange:d,isOpen:u,title:"Add Invoice",isSubmitting:!1,children:e.jsx("form",{})})]})}export{M as default};
