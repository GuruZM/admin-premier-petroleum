import{u as j,b as S,r as g,k as i,j as e,c as N}from"./app-db9bbc0b.js";import{A as C,d as y}from"./AuthenticatedLayout-939d80b2.js";import{u as A,C as I,s as L,A as O}from"./AddModal-619b9c3a.js";import{u as P}from"./index.esm-b9e81855.js";import{i as a}from"./import-b490d008.js";import{b as u}from"./chunk-NXTXE2B3-7c35f28b.js";import"./transition-7e5823d5.js";function B({auth:c}){const d=["name","address","contact","tpin"],{register:s,reset:m,handleSubmit:p,getValues:_,formState:x}=P(),{isOpen:b,onOpen:f,onOpenChange:l}=A(),o=j(),{suppliers:n,status:q,error:v}=S(t=>t.suppliers);g.useEffect(()=>{o(i())},[o]),console.log("suppliers :",n);const h=async t=>{console.log("data :",t),N.post("/suppliers",t).then(r=>{console.log("res :",r),l(),o(i()),m()}).catch(r=>{console.log("err :",r),toast.error("Failed to add Supplier")})};return e.jsxs(C,{user:c.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Suppliers"}),children:[e.jsx(I,{onOpen:f,title:"Suppliers",tableObject:n,tableColumns:L,initialColumns:d}),e.jsx(O,{onOpenChange:l,isOpen:b,title:"Add Supplier",isSubmitting:!1,children:e.jsx("form",{onSubmit:p(h),children:e.jsxs("div",{className:"flex flex-col space-y-8",children:[e.jsx(a,{style:{border:"none",outline:"none",":focus":{outline:"none"}},labelPlacement:"outside",label:"Name",placeholder:"",className:"border-none outline-none  ",...s("name",{required:!0}),startContent:e.jsx("span",{className:"text-default-400 text-small"})}),e.jsx(a,{style:{border:"none"},labelPlacement:"outside",label:"Address",placeholder:"",className:"   ",...s("address",{required:!0}),startContent:e.jsx("span",{className:"text-default-400 text-small"})}),e.jsx(a,{style:{border:"none"},labelPlacement:"outside",label:"Contact",placeholder:"",className:"   ",...s("contact",{required:!0}),startContent:e.jsx("span",{className:"text-default-400 text-small"})}),e.jsx(a,{style:{border:"none"},labelPlacement:"outside",label:"Tpin",placeholder:"",className:"   ",...s("tpin",{required:!0}),startContent:e.jsx("span",{className:"text-default-400 text-small"})}),e.jsx(y,{className:"my-5"}),e.jsxs("div",{className:"buttonSection flex  justify-end gap-1",children:[e.jsx(u,{color:"danger",variant:"flat",onPress:()=>{l()},children:"Close"}),e.jsx(u,{isLoading:x.isSubmitting,type:"submit",color:"primary",children:"Submit"})]})]})})})]})}export{B as default};
