import{u as j,b as S,r as N,l as n,j as e,c as C}from"./app-9c18656a.js";import{A as y,d as g}from"./AuthenticatedLayout-ed154445.js";import{u as A,C as I,s as L,A as O}from"./AddModal-cd241fed.js";import{u as P}from"./index.esm-98bebf31.js";import{i as s}from"./chunk-TC4QW7OA-29996412.js";import{b as o}from"./chunk-NXTXE2B3-5a1175ef.js";import"./transition-d454f600.js";import"./import-64ba6daa.js";function U({auth:i}){const u=["name","address","contact","tpin"],{register:t,reset:d,handleSubmit:c,getValues:_,formState:m}=P(),{isOpen:p,onOpen:x,onOpenChange:a}=A(),l=j(),{suppliers:b,status:q,error:v}=S(r=>r.suppliers);N.useEffect(()=>{l(n())},[l]);const f=async r=>{C.post("/suppliers",r).then(h=>{a(),l(n()),d()}).catch(h=>{toast.error("Failed to add Supplier")})};return e.jsxs(y,{user:i.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Suppliers"}),children:[e.jsx(I,{onOpen:x,title:"Suppliers",tableObject:b,tableColumns:L,initialColumns:u}),e.jsx(O,{onOpenChange:a,isOpen:p,title:"Add Supplier",isSubmitting:!1,children:e.jsx("form",{onSubmit:c(f),children:e.jsxs("div",{className:"flex flex-col space-y-8",children:[e.jsx(s,{style:{border:"none",outline:"none",":focus":{outline:"none"}},labelPlacement:"outside",label:"Name",placeholder:"",className:"border-none outline-none  ",...t("name",{required:!0}),startContent:e.jsx("span",{className:"text-default-400 text-small"})}),e.jsx(s,{style:{border:"none"},labelPlacement:"outside",label:"Address",placeholder:"",className:"   ",...t("address",{required:!0}),startContent:e.jsx("span",{className:"text-default-400 text-small"})}),e.jsx(s,{style:{border:"none"},labelPlacement:"outside",label:"Contact",placeholder:"",className:"   ",...t("contact",{required:!0}),startContent:e.jsx("span",{className:"text-default-400 text-small"})}),e.jsx(s,{style:{border:"none"},labelPlacement:"outside",label:"Tpin",placeholder:"",className:"   ",...t("tpin",{required:!0}),startContent:e.jsx("span",{className:"text-default-400 text-small"})}),e.jsx(g,{className:"my-5"}),e.jsxs("div",{className:"buttonSection flex  justify-end gap-1",children:[e.jsx(o,{color:"danger",variant:"flat",onPress:()=>{a()},children:"Close"}),e.jsx(o,{isLoading:m.isSubmitting,type:"submit",color:"primary",children:"Submit"})]})]})})})]})}export{U as default};
