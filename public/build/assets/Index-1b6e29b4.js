import{u as C,b as N,r as _,m as i,j as e,c as E}from"./app-77bbec4f.js";import{A as P,d as v}from"./AuthenticatedLayout-d0255b08.js";import{u as A,C as I,t as T,A as q}from"./AddModal-a050553e.js";import{u as O}from"./index.esm-fc305e46.js";import{i as u}from"./chunk-TC4QW7OA-5ae1fe65.js";import{s as L,l as c}from"./chunk-ZFWMN6TD-42d4fc0c.js";import{b as d}from"./chunk-NXTXE2B3-539b5766.js";import"./transition-0625b3d3.js";import"./methods-eae04d3a.js";import"./import-b067866a.js";const V=["quantity","price","status","actions"];function J({auth:p}){const{register:s,reset:m,setValue:x,handleSubmit:b,getValues:r,formState:f}=O(),{isOpen:h,onOpen:j,onOpenChange:n}=A(),l=C(),{suppliers:y,status:D,error:F}=N(t=>t.suppliers);_.useEffect(()=>{l(i())},[l]);const g=async t=>{E.post("/transport-expenses",t).then(a=>{toast.success("Supplier Added Successfully"),n(),l(i()),m()}).catch(a=>{console.log("err :",a),toast.error("Failed to add Supplier")})},o=()=>{const t=r("quantity"),a=r("price"),S=t*a;x("total",S)};return e.jsxs(P,{user:p.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Transport Expense"}),children:[e.jsx(I,{onOpen:j,title:"Transport Expenses",tableObject:y,tableColumns:T,initialColumns:V}),e.jsx(q,{onOpenChange:n,isOpen:h,title:"Add Transport Expense",isSubmitting:!1,children:e.jsx("form",{onSubmit:b(g),children:e.jsxs("div",{className:"flex flex-col space-y-8",children:[e.jsx(u,{style:{border:"none",outline:"none",":focus":{outline:"none"}},type:"number",labelPlacement:"outside",label:"Quantity",placeholder:"",className:"border-none outline-none  ",...s("quantity",{onChange:o}),startContent:e.jsx("span",{className:"text-default-400 text-small"})}),e.jsx(u,{style:{border:"none"},type:"number",labelPlacement:"outside",label:"Price",placeholder:"",className:"   ",...s("price",{required:!0,onChange:o}),startContent:e.jsx("span",{className:"text-default-400 text-small"})}),e.jsxs("div",{children:[e.jsx("small",{className:"font-semibold",children:"Total"}),e.jsx("input",{style:{border:"none"},type:"number",labelPlacement:"outside",label:"Total",readOnly:!0,className:"bg-gray-100 w-full p-2 rounded-xl",...s("total",{required:!0}),startContent:e.jsx("span",{className:"text-default-400 text-small"})})]}),e.jsxs(L,{labelPlacement:"outside",label:"Status",className:" ",startContent:"ðŸ‘¤",...s("status"),children:[e.jsx(c,{id:"pending",value:"pending",children:"Pending"},"pending"),e.jsx(c,{id:"paid",value:"paid",children:"Paid"},"paid")]}),e.jsx(v,{className:"my-5"}),e.jsxs("div",{className:"buttonSection flex  justify-end gap-1",children:[e.jsx(d,{color:"danger",variant:"flat",onPress:()=>{n()},children:"Close"}),e.jsx(d,{isLoading:f.isSubmitting,type:"submit",color:"primary",children:"Submit"})]})]})})})]})}export{J as default};
