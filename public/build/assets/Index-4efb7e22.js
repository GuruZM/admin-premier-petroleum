import{u as S,b as N,r as y,m as r,j as e,c as C}from"./app-77bbec4f.js";import{A as g,d as A,a as o}from"./AuthenticatedLayout-d0255b08.js";import{u as I,C as L,s as O,A as P}from"./AddModal-a050553e.js";import{u as _}from"./index.esm-fc305e46.js";import{i as t}from"./chunk-TC4QW7OA-5ae1fe65.js";import{b as i}from"./chunk-NXTXE2B3-539b5766.js";import"./transition-0625b3d3.js";import"./methods-eae04d3a.js";import"./import-b067866a.js";function w({auth:c}){const u=["name","address","contact","tpin"],{register:s,reset:d,handleSubmit:m,getValues:v,formState:p}=_(),{isOpen:x,onOpen:f,onOpenChange:a}=I(),l=S(),{suppliers:b,status:E,error:D}=N(n=>n.suppliers);y.useEffect(()=>{l(r())},[l]);const h=async n=>{C.post("/suppliers",n).then(j=>{o.success("Supplier Added Successfully"),a(),l(r()),d()}).catch(j=>{o.error("Failed to add Supplier")})};return e.jsxs(g,{user:c.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Suppliers"}),children:[e.jsx(L,{onOpen:f,title:"Suppliers",tableObject:b,tableColumns:O,initialColumns:u}),e.jsx(P,{onOpenChange:a,isOpen:x,title:"Add Supplier",isSubmitting:!1,children:e.jsx("form",{onSubmit:m(h),children:e.jsxs("div",{className:"flex flex-col space-y-8",children:[e.jsx(t,{style:{border:"none",outline:"none",":focus":{outline:"none"}},labelPlacement:"outside",label:"Name",placeholder:"",className:"border-none outline-none  ",...s("name",{required:!0}),startContent:e.jsx("span",{className:"text-default-400 text-small"})}),e.jsx(t,{style:{border:"none"},labelPlacement:"outside",label:"Address",placeholder:"",className:"   ",...s("address"),startContent:e.jsx("span",{className:"text-default-400 text-small"})}),e.jsx(t,{style:{border:"none"},labelPlacement:"outside",label:"Contact",placeholder:"",className:"   ",...s("contact"),startContent:e.jsx("span",{className:"text-default-400 text-small"})}),e.jsx(t,{style:{border:"none"},labelPlacement:"outside",label:"Tpin",placeholder:"",className:"   ",...s("tpin"),startContent:e.jsx("span",{className:"text-default-400 text-small"})}),e.jsx(A,{className:"my-5"}),e.jsxs("div",{className:"buttonSection flex  justify-end gap-1",children:[e.jsx(i,{color:"danger",variant:"flat",onPress:()=>{a()},children:"Close"}),e.jsx(i,{isLoading:p.isSubmitting,type:"submit",color:"primary",children:"Submit"})]})]})})})]})}export{w as default};
