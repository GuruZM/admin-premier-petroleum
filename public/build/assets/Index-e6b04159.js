import{u as j,b as C,r as y,f as c,j as e,c as N}from"./app-17e246d1.js";import{A as g,d as S,Q as m}from"./AuthenticatedLayout-a6959aa6.js";import{u as A,C as I,c as _,A as L}from"./AddModal-8e2d6fc4.js";import"./TextInput-f0786ce2.js";import{u as P}from"./index.esm-f740782c.js";import{i as t}from"./chunk-TC4QW7OA-f7f8009b.js";import{b as i}from"./chunk-NXTXE2B3-77b93743.js";import"./transition-619f3d46.js";import"./import-cb6b87a3.js";const O=["firstname","lastname","company_name","contact","address"];function k({auth:u}){const{register:s,reset:d,handleSubmit:x,getValues:v,formState:p}=P(),n=j(),{customers:r,status:E,error:F}=C(l=>l.customers);y.useEffect(()=>{n(c())},[]);const{isOpen:f,onOpen:b,onOpenChange:a}=A(),h=async l=>{N.post("/customers",l).then(o=>{console.log("res :",o),m.success("Customer Added Successfully"),a(),n(c()),d()}).catch(o=>{console.log("err :",o),m.error("Failed to add Customer")})};return console.log("customers :",r),e.jsxs(g,{user:u.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Customers"}),children:[e.jsx(I,{onOpen:b,title:"Customers",tableObject:r,tableColumns:_,initialColumns:O}),e.jsx(L,{onOpenChange:a,isOpen:f,title:"Add Customer",isSubmitting:!1,children:e.jsxs("form",{onSubmit:x(h),children:[e.jsxs("div",{className:"flex flex-col space-y-8",children:[e.jsx(t,{style:{border:"none",outline:"none",":focus":{outline:"none"}},labelPlacement:"outside",label:"Firstname",placeholder:"",className:"border-none outline-none  ",...s("firstname"),startContent:e.jsx("span",{className:"text-default-400 text-small"})}),e.jsx(t,{style:{border:"none"},labelPlacement:"outside",label:"Lastname",placeholder:"",className:"   ",...s("lastname"),startContent:e.jsx("span",{className:"text-default-400 text-small"})}),e.jsx(t,{style:{border:"none"},labelPlacement:"outside",label:"Company",placeholder:"",className:"   ",...s("company_name",{required:!0}),startContent:e.jsx("span",{className:"text-default-400 text-small"})}),e.jsx(t,{style:{border:"none"},labelPlacement:"outside",label:"Contact",placeholder:"",className:"   ",...s("contact"),startContent:e.jsx("span",{className:"text-default-400 text-small"})}),e.jsx(t,{style:{border:"none",focus:"none"},labelPlacement:"outside",label:"Address",placeholder:"",className:"   ",...s("address"),startContent:e.jsx("span",{className:"text-default-400 text-small"})})]}),e.jsx(S,{className:"my-5"}),e.jsxs("div",{className:"buttonSection flex  justify-end gap-1",children:[e.jsx(i,{color:"danger",variant:"flat",onPress:()=>{a()},children:"Close"}),e.jsx(i,{isLoading:p.isSubmitting,type:"submit",color:"primary",children:"Submit"})]})]})})]})}export{k as default};
