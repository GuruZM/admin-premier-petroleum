import{u as j,b as C,r as y,f as c,j as e,c as N}from"./app-cdd6f146.js";import{A as g,d as S,Q as m}from"./AuthenticatedLayout-deca1a6b.js";import{u as A,C as I,c as _,A as L}from"./AddModal-7b59cbb8.js";import"./TextInput-c74ffd11.js";import{u as P}from"./index.esm-2ee15361.js";import{i as t}from"./chunk-TC4QW7OA-9e1213ad.js";import{b as u}from"./chunk-NXTXE2B3-0d77eb7b.js";import"./transition-6aab0144.js";import"./import-56d06606.js";const q=["firstname","lastname","company_name","contact","address"];function k({auth:i}){const{register:s,reset:d,handleSubmit:x,getValues:O,formState:p}=P(),r=j(),{customers:n,status:v,error:E}=C(l=>l.customers);y.useEffect(()=>{r(c())},[]);const{isOpen:f,onOpen:b,onOpenChange:a}=A(),h=async l=>{N.post("/customers",l).then(o=>{console.log("res :",o),m.success("Customer Added Successfully"),a(),r(c()),d()}).catch(o=>{console.log("err :",o),m.error("Failed to add Customer")})};return console.log("customers :",n),e.jsxs(g,{user:i.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Customers"}),children:[e.jsx(I,{onOpen:b,title:"Customers",tableObject:n,tableColumns:_,initialColumns:q}),e.jsx(L,{onOpenChange:a,isOpen:f,title:"Add Customer",isSubmitting:!1,children:e.jsxs("form",{onSubmit:x(h),children:[e.jsxs("div",{className:"flex flex-col space-y-8",children:[e.jsx(t,{style:{border:"none",outline:"none",":focus":{outline:"none"}},labelPlacement:"outside",label:"Firstname",placeholder:"",className:"border-none outline-none  ",...s("firstname",{required:!0}),startContent:e.jsx("span",{className:"text-default-400 text-small"})}),e.jsx(t,{style:{border:"none"},labelPlacement:"outside",label:"Lastname",placeholder:"",className:"   ",...s("lastname",{required:!0}),startContent:e.jsx("span",{className:"text-default-400 text-small"})}),e.jsx(t,{style:{border:"none"},labelPlacement:"outside",label:"Company",placeholder:"",className:"   ",...s("company_name",{required:!0}),startContent:e.jsx("span",{className:"text-default-400 text-small"})}),e.jsx(t,{style:{border:"none"},labelPlacement:"outside",label:"Contact",placeholder:"",className:"   ",...s("contact",{required:!0}),startContent:e.jsx("span",{className:"text-default-400 text-small"})}),e.jsx(t,{style:{border:"none",focus:"none"},labelPlacement:"outside",label:"Address",placeholder:"",className:"   ",...s("address",{required:!0}),startContent:e.jsx("span",{className:"text-default-400 text-small"})})]}),e.jsx(S,{className:"my-5"}),e.jsxs("div",{className:"buttonSection flex  justify-end gap-1",children:[e.jsx(u,{color:"danger",variant:"flat",onPress:()=>{a()},children:"Close"}),e.jsx(u,{isLoading:p.isSubmitting,type:"submit",color:"primary",children:"Submit"})]})]})})]})}export{k as default};
