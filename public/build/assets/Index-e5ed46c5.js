import{u as f,b as v,r as I,i as r,j as e,y as b,c as g}from"./app-cc386e44.js";import{A as y,a as n}from"./AuthenticatedLayout-8bf23479.js";import{u as j,C,i as A,A as _}from"./AddModal-5e540a78.js";import"./chunk-NXTXE2B3-6348f185.js";import"./methods-a1c28160.js";function w({auth:c}){const l=["number","status","track_details","date","due_date","customer_name","subtotal","total","issued_by_name","actions"],{isOpen:u,onOpen:O,onOpenChange:d}=j(),t=f(),{invoices:m,status:E}=v(o=>o.invoices);I.useEffect(()=>{t(r())},[t]);const p=()=>{b.visit("/invoices/create")},h="/invoices/",x=async o=>{var a,i;try{if(confirm("are you sure you want to delete this Record")){const s=await g.delete(`/invoices/${o}`);console.log(s),n.success("Record Deleted"),t(r())}else n.error("Request Cancelled")}catch(s){n("Somthing Went Wrong"),console.error("Error deleting:",((i=(a=s.response)==null?void 0:a.data)==null?void 0:i.error)||s.message)}};return e.jsxs(y,{user:c.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Invoice"}),children:[e.jsx(C,{onOpen:p,baseurl:h,title:"Invoices",handleDelete:x,tableObject:m,tableColumns:A,initialColumns:l}),e.jsx(_,{onOpenChange:d,isOpen:u,title:"Add Invoice",isSubmitting:!1,children:e.jsx("form",{})})]})}export{w as default};
