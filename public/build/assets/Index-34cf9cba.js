import{u as v,b as a,r as x,k as c,i as g,j as s,c as N,y as b}from"./app-9a7a5901.js";import{A as D,a as r}from"./AuthenticatedLayout-63a88b06.js";import{u as C,C as I,d as j,A}from"./AddModal-eae80d23.js";import{u as E}from"./index.esm-73533353.js";import"./chunk-NXTXE2B3-0282a286.js";import"./methods-a1c28160.js";function k({auth:l}){const d=["client","number","invoice_number","date","issue_date","actions"],u="/delivery-notes/";E();const{isOpen:m,onOpen:O,onOpenChange:y}=C(),o=v(),{deliveryNotes:p,status:S,error:L}=a(e=>e.deliveryNotes);a(e=>e.invoices),x.useEffect(()=>{o(c()),o(g())},[]);const h=async e=>{var n,i;try{if(confirm("are you sure you want to delete this Record")){const t=await N.delete(`/delivery-notes/${e}`);console.log(t),r.success("Record Deleted"),o(c())}else r.error("Request Cancelled")}catch(t){r("Somthing Went Wrong"),console.error("Error deleting:",((i=(n=t.response)==null?void 0:n.data)==null?void 0:i.error)||t.message)}},f=()=>{b.visit("/delivery-notes/create")};return s.jsxs(D,{user:l.user,header:s.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Delivery Note"}),children:[s.jsx(I,{canView:!0,canEdit:!0,canDelete:!0,onOpen:f,baseurl:u,title:"Delivery Note",handleDelete:h,tableObject:p,tableColumns:j,initialColumns:d}),s.jsx(A,{onOpenChange:y,isOpen:m,title:"Add Delivery Note",isSubmitting:!1})]})}export{k as default};
